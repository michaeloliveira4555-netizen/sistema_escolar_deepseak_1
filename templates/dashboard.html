{% extends "base.html" %}

{% block title %}Dashboard - Sistema Escolar{% endblock %}

{% block content %}
<div class="container dashboard-grid-container">
    
    <div class="text-center mb-5">
        <h1>Bem-vindo ao Dashboard, {{ current_user.username or current_user.matricula }}!</h1>
    </div>

    <div class="dashboard-cards-grid">
        
        {# Card de Pré-Cadastro - VISÍVEL APENAS PARA ADMINS #}
        {% if current_user.role == 'admin' %}
        <a href="{{ url_for('main.pre_cadastro') }}" class="dashboard-card">
            <div class="card-icon">
                <img src="{{ url_for('static', filename='img/registro_icon.png') }}" alt="Ícone de Pré-Cadastro">
            </div>
            <h3>Pré-Cadastro</h3>
            <p>Cadastrar matrículas de novos alunos e instrutores no sistema.</p>
        </a>
        {% endif %}

        {# Card para Alunos #}
        <a href="{{ url_for('aluno.listar_alunos') }}" class="dashboard-card">
            <div class="card-icon">
                <img src="{{ url_for('static', filename='img/alunos_icon.png') }}" alt="Ícone Alunos">
            </div>
            <h3>Alunos</h3>
            <p>Gerenciar perfis e históricos de alunos.</p>
        </a>

        {# Card para Instrutores #}
        <a href="{{ url_for('instrutor.listar_instrutores') }}" class="dashboard-card">
            <div class="card-icon">
                <img src="{{ url_for('static', filename='img/instrutores_icon.png') }}" alt="Ícone Instrutores">
            </div>
            <h3>Instrutores</h3>
            <p>Visualizar e administrar instrutores.</p>
        </a>

        {# Card para Disciplinas #}
        <a href="#" class="dashboard-card"> {# O link para disciplinas ainda será criado #}
            <div class="card-icon">
                <img src="{{ url_for('static', filename='img/disciplinas_icon.png') }}" alt="Ícone Disciplinas">
            </div>
            <h3>Disciplinas</h3>
            <p>Cadastrar e gerenciar disciplinas.</p>
        </a>
        
    </div>

    {# Resumo administrativo que existia no seu código, mantido aqui #}
    {% if current_user.role == 'admin' and dashboard_data %}
    <div class="admin-summary mt-5">
        <h3 class="text-center mb-4">Resumo Administrativo</h3>
        <div class="dashboard-cards-grid">
            <div class="card">
                <h4>Total de Usuários</h4>
                <p>{{ dashboard_data.total_users }}</p>
            </div>
            <div class="card">
                <h4>Total de Alunos</h4>
                <p>{{ dashboard_data.total_alunos }}</p>
            </div>
            <div class="card">
                <h4>Total de Instrutores</h4>
                <p>{{ dashboard_data.total_instrutores }}</p>
            </div>
            <div class="card">
                <h4>Total de Disciplinas</h4>
                <p>{{ dashboard_data.total_disciplinas }}</p>
            </div>
        </div>
    </div>
    {% endif %}

</div>
{% endblock %}