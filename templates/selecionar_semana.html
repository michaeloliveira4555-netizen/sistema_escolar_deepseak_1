{% extends "base.html" %}

{% block title %}Selecionar Semana{% endblock %}

{% block content %}
<div class="content-header">
    <h1>{{ title }}</h1>
    <p>Por favor, selecione a semana que deseja gerenciar.</p>
</div>

<div class="table-container" style="max-width: 800px; margin: 0 auto;">
    <div class="table-header">
        <h3>Semanas Dispon√≠veis</h3>
        <a href="{{ url_for('semana.gerenciar_semanas') }}" class="btn btn-info btn-sm">Gerenciar Semanas</a>
    </div>
    
    <form method="POST" action="{{ url_for(target_endpoint) }}">
        {% if semanas %}
            <div class="selection-list">
                {% for item in semanas %}
                <label class="selection-item {{ item.status }}">
                    <input type="radio" name="semana_id" value="{{ item.semana.id }}" required>
                    <div class="selection-content">
                        <strong>{{ item.semana.nome }}</strong>
                        <span>{{ item.semana.data_inicio.strftime('%d/%m/%Y') }} at√© {{ item.semana.data_fim.strftime('%d/%m/%Y') }}</span>
                    </div>
                </label>
                {% endfor %}
            </div>
            <div class="form-actions" style="justify-content: center; margin-top: 2rem;">
                <a href="{{ url_for('main.dashboard') }}" class="btn btn-secondary">Cancelar</a>
                <button type="submit" class="btn btn-primary">Pr√≥ximo</button>
            </div>
        {% else %}
            <div class="empty-state">
                <div class="empty-icon">üìÖ</div>
                <h2>Nenhuma Semana Cadastrada</h2>
                <p>Por favor, v√° para "Gerenciar Semanas" para adicionar um per√≠odo letivo antes de continuar.</p>
            </div>
        {% endif %}
    </form>
</div>

<style>
.selection-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}
.selection-item {
    display: block;
    padding: 1rem 1.5rem;
    border: 2px solid var(--color-border);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
}
.selection-item:hover {
    border-color: var(--color-primary-light);
    background-color: #eff6ff;
}
.selection-item input[type="radio"] {
    display: none;
}
.selection-item input[type="radio"]:checked + .selection-content {
    border-left: 4px solid var(--color-primary);
    padding-left: 1rem;
}
.selection-content {
    transition: all 0.2s ease;
    border-left: 4px solid transparent;
}
.selection-content strong {
    display: block;
    font-size: 1.1rem;
    color: var(--color-secondary);
}
.selection-content span {
    color: var(--color-text-muted);
}
</style>
{% endblock %}